(require lispy.macros *)

(= limit (* 4 (** 10 6)))

(= a 1)
(= b 2)
(= ret 0)

(def next-fib [a b]
  (return [b (+ a b)]))

(while (< b limit)
  (+= ret b)
  (for _ (range 3)
    (= [a b] (next-fib a b))))

(print ret)
