(require lispy.macros *)

(def cycle-len [n]
  (= mem (* [-1] n))
  (= cur 0)
  (= remain 1)
  (while remain
    (if (!= (sub mem remain) -1)
        (return (- cur (sub mem remain)))
        (= (sub mem remain) cur))
    (*= remain 10)
    (%= remain n)
    (+= cur 1))
  (return 0))

(def sol [d]
  (= M 0)
  (= ret 0)
  (for i (range 2 d)
    (= l (cycle-len i))
    (if (> l M)
        (do (= M l)
            (= ret i))))
  (return ret))

(print (sol 1000))
