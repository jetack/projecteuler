(require lispy.macros *)

(def criterion [a b c]
  (return (- (+ (* a a) (* b b)) (* c c))))

(def num-solutions [p]
  (= ret 0)
  (for i (range 1 (// p 3))
    (for j (range (+ i 1) (// (* p 2) 3))
      (= c (criterion i j (- p i j)))
      (cond (== c 0) (+= ret 1)
            (> c 0) (break))))
  (return ret))

(print (max [[(num-solutions i) i] for i in (range 3 1001)]))
